{"version":3,"sources":["components/toolbar/Toolbar.component.js","lib/gridUtils.js","components/rect/Rect.component.js","components/rect/Resizer.component.js","components/canvas/Canvas.component.js","lib/guidesUtils.js","lib/rectUtils.js","components/guides/Guides.component.js","data/basic-case.js","components/canvas/Canvas-Container.component.js","App.js","serviceWorker.js","index.js"],"names":["Toolbar","getRowDetails","rectRowData","map","data","id","start","y","end","height","getColumnDetails","rectColumnData","x","width","generatePartGridStyle","details","rOrC","partStyleDetailsList","partStyleString","valueLineObject","forEach","detail","push","value","prevValue","Object","keys","sort","a","b","parseFloat","startId","endId","Rect","state","rectName","this","setState","props","name","onMouseDown","event","rectMouseDown","className","isSelected","isMouseDowned","isWrtRect","style","areaStyle","Component","Resizer","stopPropagation","resizerType","mouseDownPosition","clientX","clientY","resizeHandler","isResizing","gridArea","areaName","e","resizerContainerMouseDowned","resizerUnitMousewDowned","Canvas","mouseMoveSubscription","mouseUpSubscription","previousMousePosition","rectsData","setRectsData","movingRectIndex","diffPosition","selectionId","bind","rectData","mouseDownRectId","wrtRectIds","includes","key","findIndex","rect","unsubscribe","fromEvent","document","body","pipe","throttleTime","subscribe","rectMouseMove","rectMouseUp","updateState","currentPosition","diff","moveConstraints","guidesStatus","Math","abs","updateRectData","rects","gridStyle","grid","canvasMouseDowned","getRectEls","getResizer","getRowGuides","selectionRect","getBestGuides","getPartGuides","guides","getColumnGuides","partGuides","rowOrColumn","length","closestRect","selectedRect","matchedRects","selectedCenter","closestRowRect","closestColumnRect","closestRowRectDistance","Infinity","closestColumnRectDistance","getClosestMatchedRect","guideData","find","rd","guidesWrtRect","filter","partGuideData","partDetails","partDetailsLines","linePositions","ceil","selectedRectDetails","position","Guides","row","column","newProps","setGuideData","selectedRectData","wrtRectIdsIsSet","newWrtRectIds","Array","from","Set","index","top","left","getRowGuidesLines","getColumnGuideLines","class","CanvasContainer","keyStatus","keyMaps","containerMouseMoveSubscription","containerMouseUpSubscription","resizerMouseMoveSubscription","resizerMouseUpSubscription","resizerCurrentMousePosition","newRectId","resizingRect","idCounter","arrowMoveTimeout","localStorage","JSON","parse","stringify","newRectMode","canvas","React","createRef","checkForKeyStatusChange","handleKeyStatusChange","deleteHandler","removeAll","duplicateRect","arrowKeyMoveHandler","showGuides","rectId","clearTimeout","setTimeout","resizeType","resizerMoveHandler","resizerUpHandler","newRects","addRect","deleteRect","partialState","newState","rectIndex","rectDetail","newRectState","xOffSet","yOffSet","newIds","splice","rectDetails","target","classList","contains","newAreaMouseDownPosition","currentTarget","containerMouseMoveHandler","containerMouseUpHandler","newData","updatingRect","dimensions","updateDataOfRect","keyType","multiplier","containerMouseDownHandler","setWrtRectIds","ref","App","keyDownSubscription","keyUpSubscription","window","keyDownHandler","keyUpHandler","keyCode","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","ReactDOM","render","getElementById","URL","process","href","origin","addEventListener","fetch","response","contentType","headers","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.e37d9c63.chunk.js","sourcesContent":["import React from 'react';\nimport './Toolbar.css';\n\nfunction Toolbar(){\n  \n  return (\n    <div className=\"cl-toolbar\">\n      <div className=\"cl__title\">Constraint Layouter</div>\n      <div className=\"cl__menus\">\n        <button>Rect</button>\n      </div>\n    </div>\n  )\n}\n\nexport default Toolbar;","export function getRowDetails(rectRowData){\n    return rectRowData.map(data => {\n      return {\n        id: data.id,\n        start: data.y,\n        end: data.y + data.height\n      };\n    })\n  }\n\n export function getColumnDetails(rectColumnData){\n    return rectColumnData.map(data => {\n      return {\n        id: data.id,\n        start: data.x,\n        end: data.x + data.width\n      };\n    })\n  }\n\nexport function generatePartGridStyle(details, rOrC){\n    const partStyleDetailsList = []\n    let partStyleString = '';\n    const valueLineObject = {};\n\n    details.forEach(detail => {\n      partStyleDetailsList.push({id:detail.id, value: detail.start, start: true, end: false})\n      // partStyleDetailsList.push({id:detail.id, value: (detail.start+detail.end)/2, start: false, end: false})\n      partStyleDetailsList.push({id:detail.id, value: detail.end, start: false, end: true})\n    })\n\n\n    partStyleDetailsList.forEach(detail=>{\n      if(!valueLineObject[detail.value]){\n        valueLineObject[detail.value] = {start:[], end:[]}\n      }\n\n      if(detail.start){\n        valueLineObject[detail.value].start.push(detail.id);\n      }\n      else if(detail.end){\n        valueLineObject[detail.value].end.push(detail.id);\n      }\n    });\n\n    \n    partStyleString = ''\n    let prevValue = 0;\n\n\n    Object.keys(valueLineObject).sort((a,b)=>parseFloat(a) - parseFloat(b)).forEach(value=>{\n\n  \n      partStyleString += `${value - prevValue}px `\n\n      partStyleString += '[ '\n      valueLineObject[value].start.forEach(startId =>{\n        partStyleString += `${startId}-start `;\n      })\n\n      valueLineObject[value].end.forEach(endId => {\n        partStyleString += `${endId}-end `;\n      })\n      partStyleString += '] '\n\n\n      prevValue = value;\n\n    })\n    \n    return partStyleString;\n  }\n\n\n  export function getGridStyle(rects) {\n    return {\n      grid: `${generatePartGridStyle(getRowDetails(rects),'row')} / ${generatePartGridStyle(getColumnDetails(rects),'col')}`\n    }\n  }","import React, { Component } from 'react';\nimport './Rect.css'\n\nclass Rect extends Component {\n  \n  state = { \n    rectName: ''\n   }\n\n   componentDidMount(){\n     this.setState({\n       rectName: this.props.name\n     });\n   }\n\n  componentDidUpdate(){\n  }\n\n\n  constructor(){\n    super();\n\n  }\n\n  render() { \n    return ( <div \n        onMouseDown={event=>{this.props.rectMouseDown(event, this.props.id)}}\n        className={`cl-rect ${this.props.isSelected ? 'cl__selected' : '' } ${this.props.isMouseDowned ? 'cl__selected' : '' } ${this.props.isWrtRect ? 'cl__wrt' : '' }`} \n        style={this.props.areaStyle}>\n          {/* <div className=\"cl-rect-helper cl-helper-x\"></div> */}\n          {/* <div className=\"cl-rect-helper cl-helper-y\"></div> */}\n          <div className='cl-rectname'>\n            <span>{this.state.rectName}</span>\n          </div>\n        </div> );\n  }\n}\n \nexport default Rect; ","import * as React from 'react';\nimport { Component } from 'react';\nimport './Resizer.css'\n\nclass Resizer extends Component{\n\n\n  constructor(){\n    super();\n  }\n\n  resizerContainerMouseDowned(event){\n    event.stopPropagation();\n  }\n\n\n  resizerUnitMousewDowned(event, resizerType){\n    const mouseDownPosition = {x:event.clientX, y:event.clientY};\n    this.props.resizeHandler(mouseDownPosition, resizerType);\n  }\n\n\n  render() { \n   if(this.props.isResizing){\n\n\n   return (\n    <div \n      style={{gridArea:this.props.areaName}} \n      className=\"cl-resizer\"\n      onMouseDown={e=>this.resizerContainerMouseDowned(e)}\n      >\n\n      <div className=\"cl-resizer-unit cl-resizer__left\" onMouseDown={e=>{this.resizerUnitMousewDowned(e, ['left'])}}></div>\n      <div className=\"cl-resizer-unit cl-resizer__top\" onMouseDown={e=>{this.resizerUnitMousewDowned(e, ['top'])}}></div>\n      <div className=\"cl-resizer-unit cl-resizer__right\" onMouseDown={e=>{this.resizerUnitMousewDowned(e, ['right'])}}></div>\n      <div className=\"cl-resizer-unit cl-resizer__bottom\" onMouseDown={e=>{this.resizerUnitMousewDowned(e, ['bottom'])}}></div>\n\n      <div className=\"cl-resizer-unit cl-resizer__top-left\" onMouseDown={e=>{this.resizerUnitMousewDowned(e, ['top','left'])}}></div>\n      <div className=\"cl-resizer-unit cl-resizer__top-right\" onMouseDown={e=>{this.resizerUnitMousewDowned(e, ['top','right'])}}></div>\n      <div className=\"cl-resizer-unit cl-resizer__bottom-left\" onMouseDown={e=>{this.resizerUnitMousewDowned(e, ['bottom','left'])}}></div>\n      <div className=\"cl-resizer-unit cl-resizer__bottom-right\" onMouseDown={e=>{this.resizerUnitMousewDowned(e, ['bottom', 'right'])}}></div>\n      \n    </div>);\n   }\n   \n    return (null);\n  }\n}\n \nexport default Resizer;","import React, { Component } from 'react';\nimport './Canvas.css'\nimport { fromEvent } from 'rxjs';\nimport { throttleTime } from 'rxjs/operators';\n\nimport { getGridStyle } from './../../lib/gridUtils'\nimport Rect from '../rect/Rect.component'\nimport Resizer from '../rect/Resizer.component'\n\nclass Canvas extends Component {\n\n  mouseMoveSubscription = null;\n  mouseUpSubscription = null;\n  mouseDownPosition = {x: null, y: null};\n  previousMousePosition = {x: null, y: null};\n\n  rectsData = null; \n  setRectsData = null; \n\n  movingRectIndex = null;\n\n  diffPosition = {x:0, y:0};\n\n  constructor(){\n    super();\n  }\n\n  getResizer(){\n    return (\n    <Resizer \n      areaName={this.props.selectionId}\n      isResizing={this.props.isResizing}\n      resizeHandler={this.resizeHandler.bind(this)}\n      />)\n  }\n\n  getRectEls(){\n    return this.props.rectData.map((data) => {\n      const areaStyle = { gridArea: data.id }\n      return (<Rect \n        isSelected ={data.id == this.props.selectionId}\n        isMouseDowned ={data.id == this.props.mouseDownRectId}\n        isWrtRect = {this.props.wrtRectIds.includes(data.id)}\n        areaStyle = {areaStyle}\n        id = {data.id}\n        name = {data.name}\n        rectMouseDown = { this.rectMouseDown.bind(this) }\n        key={data.id}\n        /> );\n    })\n  }\n\n  resizeHandler(mouseDownPosition, resizerType) {\n    this.props.resizeHandler(mouseDownPosition, resizerType);\n  }\n\n  rectMouseDown(event, id) {\n    event.stopPropagation();\n    this.rectsData = [...this.props.rectData];\n\n    this.movingRectIndex = this.props.rectData.findIndex(rect => rect.id === id);\n\n    if(this.mouseMoveSubscription){\n      this.mouseMoveSubscription.unsubscribe();\n    }\n\n    if (this.mouseUpSubscription) {\n      this.mouseUpSubscription.unsubscribe();\n    }\n\n    this.mouseMoveSubscription = fromEvent(document.body, 'mousemove').pipe(throttleTime(16)).subscribe(e => {\n      this.rectMouseMove(e)\n    });\n\n    this.mouseUpSubscription = fromEvent(document.body, 'mouseup').pipe(throttleTime(16)).subscribe(e => {\n      this.rectMouseUp(e)\n    });\n\n    this.mouseDownPosition = {\n      x: event.clientX,\n      y: event.clientY\n    };\n\n    this.previousMousePosition = {\n      x: event.clientX,\n      y: event.clientY\n    };\n\n    this.props.updateState({selectionId:id,mouseDownRectId: id});\n    \n  }\n\n  rectMouseMove(event) {\n    const currentPosition = {x:event.clientX, y: event.clientY};\n\n    const diff = {x: currentPosition.x - this.previousMousePosition.x, y: currentPosition.y - this.previousMousePosition.y};\n\n    if(!this.props.moveConstraints.x){\n      diff.x = 0;\n    }\n\n    if(!this.props.moveConstraints.y){\n      diff.y = 0;\n    }\n\n    if (this.props.guidesStatus.x && Math.abs(diff.x) < 10){ \n      diff.x = 0;\n    }\n    else{\n      this.previousMousePosition.x = event.clientX;\n    }\n    \n    if (this.props.guidesStatus.y && Math.abs(diff.y) < 10) {\n      diff.y = 0;\n    }\n    else{\n      this.previousMousePosition.y = event.clientY;\n    }\n\n    this.rectsData = [...this.props.rectData];\n\n    this.rectsData[this.movingRectIndex].x += diff.x;\n    this.rectsData[this.movingRectIndex].y += diff.y;\n\n    this.props.updateRectData(this.movingRectIndex,this.rectsData[this.movingRectIndex]);\n  }\n\n  rectMouseUp(event) {\n    this.mouseMoveSubscription.unsubscribe();\n    this.mouseUpSubscription.unsubscribe();\n    this.mouseDownPosition = {\n      x: null,\n      y: null\n    };\n    this.previousMousePosition = {\n      x: null,\n      y: null\n    };\n\n    this.rectsData = [...this.props.rectData];\n\n    this.rectsData[this.movingRectIndex].x += this.diffPosition.x;\n    this.rectsData[this.movingRectIndex].y += this.diffPosition.y;\n\n\n\n    this.rectsData = null;\n    this.setRectsData = null;\n    this.movingRectIndex = null;\n    this.props.updateState({mouseDownRectId:null});\n    // update the state on mouse up.\n  }\n\n  canvasMouseDowned(event){\n    this.props.updateState({selectionId:null});\n  }\n\n\n  render() { \n    const gridStyle = getGridStyle(this.props.rectData);\n    return ( \n            <div\n              className=\"cl-canvas\"   //canvas is grid\n              onMouseDown={e=>{this.canvasMouseDowned(e)}}\n              style={gridStyle}>\n                {this.getRectEls()}\n                {this.getResizer()}\n              </div> );\n  }\n}\n \nexport default Canvas;","import {getRowDetails, getColumnDetails} from './gridUtils'\nimport { getClosestMatchedRect } from './rectUtils';\n\nexport function getRowGuides(rectData, selectionRect, wrtRectIds) {\n\n  if (!selectionRect) {\n    return {guides: [], wrtRectIds};\n  }\n\n  const rowData = getRowDetails(rectData);\n  const rowGuides = getPartGuides(rowData, selectionRect.id);\n  \n  return getBestGuides(rectData, selectionRect, wrtRectIds, rowGuides, 'column'); // column wise closest\n}\n\n\nexport function getColumnGuides(rectData, selectionRect, wrtRectIds) {\n\n  if (!selectionRect) {\n    return {guides: [], wrtRectIds};\n  }\n\n  const columnData = getColumnDetails(rectData);\n  const columnGuides = getPartGuides(columnData, selectionRect.id);\n\n  return getBestGuides(rectData, selectionRect, wrtRectIds, columnGuides, 'row'); // row wise closest\n}\n\n\nfunction getBestGuides(rectData, selectionRect, wrtRectIds, partGuides, rowOrColumn){\n  if (!wrtRectIds.length) {\n    const matchedGuidesRect = partGuides.map(guideData => rectData.find(rd => rd.id == guideData.id));\n\n    const closestRect = getClosestMatchedRect(selectionRect, matchedGuidesRect, rowOrColumn);\n    wrtRectIds = closestRect ? [closestRect.id] : [];\n  }\n\n  const guidesWrtRect = partGuides.filter(partGuideData => wrtRectIds.includes(partGuideData.id));\n\n  // console.log(guidesWrtRect);\n\n  return guidesWrtRect.length ? {guides:[guidesWrtRect[0]], wrtRectIds} : {guides:[], wrtRectIds}\n  // return guidesWrtRect.length ? {guides:guidesWrtRect, wrtRectIds} : {guides:[], wrtRectIds}\n}\n\n\n\nfunction getPartGuides(partDetails, selectionId){\n\n  const partDetailsLines = partDetails.map(detail => {return {id:detail.id, linePositions:[\n    detail.start,\n    Math.ceil((detail.start + detail.end) / 2),\n    detail.end\n  ]}})\n\n  const selectedRectDetails = partDetailsLines.find(detail => detail.id == selectionId);\n\n  const guides = [];\n\n  partDetailsLines.forEach(detail => {\n    if(detail.id == selectionId){\n      return;\n    }\n    detail.linePositions.forEach(position=>{\n      if(selectedRectDetails.linePositions.includes(position)){\n        guides.push({id: detail.id, position});\n      }\n    })\n  })\n\n  return guides;\n}","export function getClosestMatchedRect(selectedRect, matchedRects, rowOrColumn){\n\n  if(matchedRects.length)\n  {\n    // console.log(selectedRect, matchedRects);\n    const selectedCenter = {\n      x: selectedRect.x + selectedRect.width / 2,\n      y: selectedRect.y + selectedRect.height / 2\n    }\n\n    let closestRowRect = null;\n    let closestColumnRect = null;\n\n    let closestRowRectDistance = Infinity;\n    let closestColumnRectDistance = Infinity;\n\n    if(matchedRects.length == 1){\n      closestRowRect = matchedRects[0];\n      closestColumnRect = matchedRects[0];\n    }\n    else{\n      \n      matchedRects.forEach(rect => {\n\n\n        if(Math.abs(rect.x - selectedCenter.x) < closestColumnRectDistance){\n          // console.log('c1');\n          closestColumnRectDistance = Math.abs(rect.x - selectedCenter.x);\n          closestColumnRect = rect;\n        }\n        \n        if(Math.abs((rect.x + rect.width) - selectedCenter.x) < closestColumnRectDistance){\n          // console.log('c2');\n          closestColumnRectDistance = Math.abs((rect.x + rect.width) - selectedCenter.x);\n          closestColumnRect = rect;\n        }\n        \n        if(Math.abs(rect.y - selectedCenter.y) < closestRowRectDistance){\n          // console.log('c3');\n          closestRowRectDistance = Math.abs(rect.y - selectedCenter.y);\n          closestRowRect = rect;\n        }\n        \n        if(Math.abs((rect.y + rect.width) - selectedCenter.y) < closestRowRectDistance){\n          // console.log('c4')\n          closestRowRectDistance = Math.abs((rect.y + rect.width) - selectedCenter.y)\n          closestRowRect = rect;\n        }\n\n        // console.log(rect.id, Math.abs(rect.x - selectedCenter.x), Math.abs((rect.x + rect.width) - selectedCenter.x), closestColumnRectDistance, closestColumnRect.id)\n\n\n      });\n\n      // console.log(closestColumnRect.id, closestColumnRectDistance, rowOrColumn);\n\n    }\n\n\n    if(!rowOrColumn){\n      return closestRowRectDistance < closestColumnRectDistance ? closestRowRect : closestColumnRect;\n    }\n    else if(rowOrColumn == \"row\"){\n      return closestRowRect;\n    } \n    else if(rowOrColumn == \"column\"){\n      return closestColumnRect;\n    } \n  }\n}","import React, { Component } from 'react';\nimport './Guides.css'\nimport {getRowGuides, getColumnGuides} from '../../lib/guidesUtils'\n\nclass Guides extends Component {\n  state = {  }\n\n  guideData = {\n    row:{guides: [], wrtRectIds: []},\n    column:{guides: [], wrtRectIds: []}\n  }\n\n  constructor(){\n    super();\n  }\n\n\n  componentWillUpdate(newProps){\n    this.setGuideData(newProps);\n  }\n\n  componentWillMount(){\n    this.setGuideData(this.props);\n  }\n\n  setGuideData(newProps){\n\n    const selectedRectData = newProps.rectData.find(rectData=>rectData.id == newProps.mouseDownRectId);\n\n    let wrtRectIds = this.props.wrtRectIdsIsSet ? [...this.props.wrtRectIds] : []\n\n    this.guideData = {\n      row: getRowGuides(newProps.rectData, selectedRectData, wrtRectIds),\n      column: getColumnGuides(newProps.rectData, selectedRectData, wrtRectIds)\n    }\n\n    // console.log(this.guideData.column);\n\n    if (!this.props.wrtRectIdsIsSet) {\n      const newWrtRectIds = Array.from(new Set([...this.guideData.row.wrtRectIds, ...this.guideData.column.wrtRectIds]));\n\n      const guidesStatus = {\n          x: this.guideData.column.wrtRectIds.length ? true : false,\n          y: this.guideData.row.wrtRectIds.length ? true : false\n        };\n\n\n\n      if (newWrtRectIds[0] != this.props.wrtRectIds[0] \n            || newWrtRectIds.length != this.props.wrtRectIds.length \n            || guidesStatus.x != this.props.guidesStatus.x \n            || guidesStatus.y != this.props.guidesStatus.y) { //fix this condition\n        this.props.updateState({\n          wrtRectIds:newWrtRectIds,\n          guidesStatus \n        });\n      }\n    }\n\n  }\n\n  getRowGuidesLines(){\n    return this.guideData.row.guides.map((guideData,index) => {\n        return (\n          <div\n           key={index}\n           style={{top: `${guideData.position}px`}}\n           className=\"cl-row-guide\">\n          </div>)\n      })\n  }\n\n  getColumnGuideLines(){\n    return this.guideData.column.guides.map((guideData, index) => {\n        return (\n          <div\n           key={index}\n           style={{left: `${guideData.position}px`}}\n           className=\"cl-column-guide\">\n          </div>)\n      })\n  }\n\n  render() { \n    return ( \n      <div \n        className=\"cl-guides-container\">\n        {this.getRowGuidesLines()}\n        {this.getColumnGuideLines()}\n      </div> );\n  }\n}\n \nexport default Guides;","export default {\n  rects:[\n    {\n      id: 'el1',\n      name: 'One',\n      x: 100,\n      y: 100,\n      width: 200,\n      height: 200,\n      class:'one'\n    },\n    {\n      id: 'el2',\n      name: 'Two',\n      x: 500,\n      y: 100,\n      width: 200,\n      height: 200,\n      class:'one'\n    },\n    {\n      id: 'el3',\n      name: 'Three',\n      x: 600,\n      y: 200,\n      width: 200,\n      height: 400,\n      class:'two'\n    },\n    {\n      id: 'el4',\n      name: 'Four',\n      x: 1050,\n      y: 100,\n      width: 200,\n      height: 300,\n      class:'three'\n    }\n  ]\n}","import React, { Component } from 'react';\nimport Canvas from './Canvas.component';\nimport './Canvas-Container.css'\nimport Guides from '../guides/Guides.component';\nimport rectData from '../../data/basic-case'\nimport { fromEvent } from 'rxjs';\n\nclass CanvasContainer extends Component {\n\n  keyStatus = null;\n\n  keyMaps = {\n    '8': 'Delete',\n    '16': 'Shift',\n    '81': 'Q',\n    '88': 'X',\n    '89': 'Y',\n    '68': 'D',\n    '65': 'A',\n    '82': 'R',\n    '37': 'Left',\n    '38': 'Top',\n    '39': 'Right',\n    '40': 'Bottom',\n    '13': 'Enter'\n  }\n\n  containerMouseMoveSubscription = null;\n  containerMouseUpSubscription = null;\n  \n  resizerMouseMoveSubscription = null;\n  resizerMouseUpSubscription = null;\n  resizerCurrentMousePosition = null;\n\n  newRectId = null;\n  isMouseDowned = false;\n  resizingRect = null;\n\n  idCounter = 1;\n\n  arrowMoveTimeout = null;\n  \n\n  constructor(){\n    super();\n\n    let rects = [...rectData.rects];\n\n\n    if(localStorage.rects){\n      rects = JSON.parse(localStorage.rects);\n    }\n    else{\n      localStorage.rects = JSON.stringify(rects);\n    }\n    \n    this.state = {\n      rects: rects,\n      selectionId: null,\n      mouseDownRectId: null,\n      wrtRectIdsIsSet: false,\n      guidesStatus:{\n        x: false,\n        y: false\n      },\n      wrtRectIds: [],\n      moveConstraints:{\n        x: true,\n        y: true\n      },\n      newRectMode: false,\n      isResizing: false\n    };\n\n    this.idCounter = this.state.rects.length;\n\n    this.canvas = React.createRef();\n  }\n\n\n  componentDidUpdate(){\n    if(this.checkForKeyStatusChange()){\n      this.handleKeyStatusChange();\n    }\n  \n    localStorage.rects = JSON.stringify(this.state.rects);\n  }\n\n  handleKeyStatusChange(){\n    this.keyStatus = this.props.keyStatus;\n\n    if(!this.keyStatus){\n      this.updateState({\n        newRectMode: false,\n        isResizing: false,\n        moveConstraints: {\n          x: true,\n          y: true\n        }\n      })\n\n      return;\n    }\n\n    switch (this.keyStatus) {\n      case 8:\n        this.deleteHandler();\n        break;\n      case 16: \n        !this.isMouseDowned && this.updateState({newRectMode: true});\n        break;\n      case 81:\n        this.removeAll();\n        break;\n      case 88:\n        this.updateState({moveConstraints: {x: true, y: false}});\n        break;\n      case 89:\n        this.updateState({moveConstraints: {x: false, y: true}});\n        break;\n      case 68:\n        this.duplicateRect();\n         break;\n      case 82:\n        this.updateState({isResizing: true});\n         break;\n      case 37:\n        this.arrowKeyMoveHandler('left');\n         break;\n      case 38:\n        this.arrowKeyMoveHandler('top');\n         break;\n      case 39:\n        this.arrowKeyMoveHandler('right');\n         break;\n      case 40:\n        this.arrowKeyMoveHandler('bottom');\n         break;\n      case 13:\n        this.showGuides(this.state.selectionId);\n    } \n  }\n\n  showGuides(rectId){\n\n    this.updateState({\n      mouseDownRectId: rectId\n    })\n\n    clearTimeout(this.arrowMoveTimeout);\n\n    this.arrowMoveTimeout = setTimeout(() => {\n      this.updateState({\n        mouseDownRectId: null,\n      })\n    }, 1000);\n  }\n\n  resizeHandler(mouseDownPosition, resizeType){\n    this.resizingRect = this.state.rects.find(rect => rect.id == this.state.selectionId);\n\n    this.resizerMouseMoveSubscription = fromEvent(document.body, \"mousemove\").subscribe(event => {\n         this.resizerMoveHandler(event, mouseDownPosition, resizeType);\n       })\n   \n    this.resizerMouseUpSubscription = fromEvent(document.body, \"mouseup\").subscribe(event => {\n         this.resizerUpHandler();\n       })\n\n  }\n\n  resizerMoveHandler(event, mouseDownPosition, resizerType) {\n    const newRects = [...this.state.rects]; \n\n    if(!this.resizerCurrentMousePosition){\n      this.resizerCurrentMousePosition = {...mouseDownPosition};\n    }\n\n    const diff = {x: event.clientX - this.resizerCurrentMousePosition.x, y: event.clientY - this.resizerCurrentMousePosition.y};\n    const rect = newRects.find(rect => rect.id == this.state.selectionId);\n\n    this.resizerCurrentMousePosition = {x: event.clientX, y:event.clientY};\n\n\n    if(resizerType.includes(\"left\")){\n      rect.x += diff.x;\n      rect.width -= diff.x;\n    }\n    if (resizerType.includes(\"top\")) {\n      rect.y += diff.y;\n      rect.height -= diff.y;\n    }\n    if (resizerType.includes(\"right\")) {\n      rect.width += diff.x;\n    }\n    if (resizerType.includes(\"bottom\")) {\n      rect.height += diff.y;\n    }\n\n    this.updateState({rects: newRects});\n\n  }\n\n  resizerUpHandler(){\n    this.resizerMouseMoveSubscription.unsubscribe();\n    this.resizerMouseUpSubscription.unsubscribe();\n\n    this.resizerMouseMoveSubscription = null;\n    this.resizerMouseUpSubscription = null;\n\n    this.resizerCurrentMousePosition = null;\n  }\n\n\n  removeAll(){\n    this.updateState({rects: []});\n  }\n\n  duplicateRect(){\n    if(!this.state.selectionId){\n      return;\n    }\n\n    const rect = {...this.state.rects.find(rectData=>rectData.id == this.state.selectionId)};\n\n    rect.x+=10;\n    rect.y+=10;\n\n    const rectId = this.addRect(rect);\n\n    setTimeout(() => {\n      this.updateState({selectionId: rectId});\n    }, 1);\n  }\n\n  deleteHandler() {\n    if(this.state.selectionId){\n      this.deleteRect(this.state.selectionId);\n    }\n  }\n\n  checkForKeyStatusChange(){\n    return this.keyStatus != this.props.keyStatus;\n  }\n\n  updateState(partialState){\n    const newState = {...this.state};\n    Object.keys(partialState).forEach(key=>{\n      newState[key] = partialState[key];\n    })\n\n    this.setState(newState);\n  }\n\n  updateRectData(rectIndex, rectDetail){\n    const newRectState = [...this.state.rects];\n    newRectState[rectIndex] = rectDetail;\n\n\n    if(rectDetail.x<0 || rectDetail.y <0){\n\n      const xOffSet = rectDetail.x < 0 ? rectDetail.x : 0;\n      const yOffSet = rectDetail.y < 0 ? rectDetail.y : 0;\n      \n      newRectState.forEach(data=>{\n        data.x += (-xOffSet);\n        data.y += (-yOffSet);\n      })\n    }\n    this.updateState({rects:newRectState});\n  }\n\n  setWrtRectIds(newIds){\n    this.updateState({wrtRectIds:newIds});\n  }\n\n  deleteRect(rectId){\n    const rects =  [...this.state.rects];\n    const index = rects.findIndex(rectDetail=>rectId == rectDetail.id)\n    if(index>=0){\n      rects.splice(index,1);\n      this.updateState({rects})\n    }\n  }\n\n  addRect(rectDetails){ //x,y,width,height\n    const newRects = [...this.state.rects];\n    const newRectId = 'el' + (++this.idCounter);\n    \n    rectDetails.id = newRectId;\n    rectDetails.name = 'New'\n    newRects.push(rectDetails);\n\n    this.newRectId = newRectId;\n    this.updateState({rects: newRects})\n    return newRectId;\n  }\n\n  containerMouseDownHandler(event){\n    this.isMouseDowned = true;\n      if (event.target.classList.contains('cl-canvas') && this.state.newRectMode) {\n        this.addRect({\n          x: event.clientX,\n          y: event.clientY,\n          width: 1,\n          height: 1\n        })\n\n        this.newAreaMouseDownPosition = {x: event.clientX,y: event.clientY}\n      }\n\n      if (this.containerMouseMoveSubscription) {\n        this.containerMouseMoveSubscription.unsubscribe();\n      }\n\n      if (this.containerMouseUpSubscription) {\n        this.containerMouseUpSubscription.unsubscribe();\n      }\n\n      this.containerMouseMoveSubscription = fromEvent(event.currentTarget, 'mousemove').subscribe(e => {\n        this.containerMouseMoveHandler(e)\n      })\n      \n      this.containerMouseUpSubscription = fromEvent(event.currentTarget, 'mouseup').subscribe(e => {\n        this.containerMouseUpHandler(e)\n      })\n  }\n\n\n  updateDataOfRect(rectId, newData){\n    const newRects = [...this.state.rects];\n    const updatingRect = newRects.find(rect=>rect.id == rectId);\n\n    updatingRect.x = newData.x;\n    updatingRect.y = newData.y;\n    updatingRect.width = newData.width;\n    updatingRect.height = newData.height;\n\n    this.updateState({rects: newRects});\n  }\n\n\n  containerMouseMoveHandler(event){\n\n    if(this.state.newRectMode){\n      const dimensions = {\n        x: event.clientX - this.newAreaMouseDownPosition.x,\n        y: event.clientY - this.newAreaMouseDownPosition.y\n      }\n\n\n      const position = {\n        x: dimensions.x < 0 ? this.newAreaMouseDownPosition.x + dimensions.x : this.newAreaMouseDownPosition.x,\n        y: dimensions.y < 0 ? this.newAreaMouseDownPosition.y + dimensions.y : this.newAreaMouseDownPosition.y,\n      }\n\n\n      this.updateDataOfRect(this.newRectId, {\n        x: position.x,\n        y: position.y,\n        width: Math.abs(dimensions.x) != 0 ? Math.abs(dimensions.x): 1,\n        height: Math.abs(dimensions.y) != 0 ? Math.abs(dimensions.y) : 1,\n      });\n    }\n  }\n\n  containerMouseUpHandler(){\n    this.isMouseDowned = false;\n    this.newAreaMouseDownPosition = null;\n\n    this.containerMouseMoveSubscription.unsubscribe();\n    this.containerMouseUpSubscription.unsubscribe();\n\n    this.containerMouseMoveSubscription = null;\n    this.containerMouseUpSubscription = null;\n    this.newRectId = null;\n  }\n\n  arrowKeyMoveHandler(keyType){\n\n    const newRectState = [...this.state.rects];\n    const rect = newRectState.find(rect => rect.id == this.state.selectionId);\n\n    if(!rect){\n      return;\n    }\n\n    const multiplier = 1;\n\n    if (this.state.newRectMode) {\n      multiplier = 10;\n    }\n\n    if(keyType == 'left'){\n      rect.x -= multiplier;\n    }\n    else if(keyType == 'top'){\n      rect.y -= multiplier;\n    }\n    else if(keyType == 'right'){\n      rect.x += multiplier;\n    }\n    else if(keyType == 'bottom'){\n      rect.y += multiplier;\n    }\n\n    this.updateState({\n        rects: newRectState\n    });\n    \n\n    this.showGuides(rect.id);\n  }\n  \n  render() { \n    return ( <div \n              className = \"cl-canvas-container\"\n              onMouseDown={this.containerMouseDownHandler.bind(this)}>\n                 <div\n                  className=\"cl-canvas__transform\">\n                    <Guides \n                      rectData={[...this.state.rects]}\n                      wrtRectIds={this.state.wrtRectIds}\n                      wrtRectIdsIsSet={this.state.wrtRectIdsIsSet}\n                      setWrtRectIds={this.setWrtRectIds.bind(this)}\n                      mouseDownRectId={this.state.mouseDownRectId}\n                      updateState={this.updateState.bind(this)} \n                      guidesStatus={this.state.guidesStatus}\n                       />\n\n                    <Canvas \n                      ref={this.canvas}\n                      rectData={[...this.state.rects]}\n                      mouseDownRectId={this.state.mouseDownRectId}\n                      selectionId={this.state.selectionId}\n                      wrtRectIds={this.state.wrtRectIds}\n                      updateRectData={this.updateRectData.bind(this)}\n                      updateState={this.updateState.bind(this)} \n                      moveConstraints={this.state.moveConstraints}\n                      guidesStatus={this.state.guidesStatus}\n                      isResizing={this.state.isResizing}\n                      resizeHandler={this.resizeHandler.bind(this)}\n                       />\n                </div>\n            </div> );\n  }\n}\n \nexport default CanvasContainer;   ","import React, { Component } from 'react';\nimport './App.css';\nimport Editor from './components/editor/Editor.component'\nimport Toolbar from './components/toolbar/Toolbar.component';\nimport CanvasContainer from './components/canvas/Canvas-Container.component';\nimport { fromEvent } from 'rxjs';\n\nclass App extends Component {\n\n  state = {\n    keyStatus: null\n  }\n\n  keyDownSubscription = null;\n  keyUpSubscription = null;\n\n  constructor(){\n    super();\n    \n    this.keyDownSubscription = fromEvent(window, 'keydown').subscribe(e => {\n      this.keyDownHandler(e)\n    })\n\n    this.keyUpSubscription = fromEvent(window, 'keyup').subscribe(e => {\n      this.keyUpHandler(e)\n    })\n  }\n\n\n  updateState(partialState){\n    const newState = {...this.state};\n    Object.keys(partialState).forEach(key=>{\n      newState[key] = partialState[key];\n    })\n\n    this.setState(newState);\n  }\n\n\n  keyDownHandler(event){\n    // if(this.state.keyStatus!=event.keyCode){\n      this.updateState({keyStatus: null});\n      this.updateState({keyStatus: event.keyCode});\n    // }\n  }\n\n  keyUpHandler(event){\n    this.updateState({keyStatus: null});\n  }\n\n\n  componentWillUnmount(){\n    this.keyDownSubscription.unsubscribe();\n    this.keyUpSubscription.unsubscribe();\n  }\n\n  render() { \n    \n    return ( \n      <div className=\"App\"> \n        <CanvasContainer \n          keyStatus={this.state.keyStatus}\n        />\n      </div> \n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\nserviceWorker.register();\n"],"sourceRoot":""}